<div class="welcome">
<h1>Welcome back Tom!</h1>
</div>
<section class="new-post">

  <br>

  <%= form_for :post, url: posts_path do |f| %>
    <p>

      <%= f.text_area :message, cols: 50, rows: 4, placeholder: "What's on your mind...", :class => "new-post-text" %>
      
    </p>

    <p>
    <div class="post">
    <%= f.submit "Post", :class => "save-post" %></div>
    <% end %>
    </p>
</section><br><br>

<div class="posts">
<% @posts.each do |post| %>
  <section>
    <h5><%= get_time_ago(post.created_at) %> ago</h5>
    <h3><%= post.message %></h3>
</div>
<div>
  <%= form_for @like do |form| %>
    <%= form.hidden_field :post_id, :value => "#{post.id}" %>
    <%= form.hidden_field :user_id, :value => "11" %>
    <div class="like">
        <%= form.submit "Like", :class => "add-like" %></div>
  <% end %>

  <p>Likes: <%= post.likes_count %></p>
</div>
<%# add a class here tomorrow and edit the comment field %>
  <div class=""> 

      <% @comments = Comment.where({post_id: post.id})
      @comments.each do |comment_object| %>
        
        <%= comment_object['comment'] %> 
       <br>
      </div>
      <% end %>

      <section>
      <%= form_for :comment, url: comments_path do |f| %>
        <p>
          <%= f.label :comment %> <br>
          <%= f.text_area :comment, required: true, placeholder: "comment on this.." %> <br>
          <%= f.hidden_field :post_id, required: true, value:"#{post.id}" %> 
          <%= f.hidden_field :user_id, required: true, value:'1' %> 
        </p>
        <p>
        <div class="comment">
        <%= f.submit "Add comment", :class => "add-comment" %></div>
        </p>
      <% end %>
      </section>
    </div>
    <hr>
  </section>
<% end %>
